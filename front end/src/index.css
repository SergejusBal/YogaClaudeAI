html body {
  font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  background: url('/public/heroImage.webp') no-repeat center center fixed;
  background-attachment: fixed;
  background-size: cover;
  min-width: 320px;
  line-height: 1.6;
  color: #ffffff;
}

/* Enhanced Typography Scale */
h1 {
  font-size: 2.25rem;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 1.5rem;
  color: #ffffff;
}

h2 {
  font-size: 1.875rem;
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 1.25rem;
  color: #ffffff;
}

h3 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.4;
  margin-bottom: 1rem;
  color: #ffffff;
}

h4 {
  font-size: 1.25rem;
  font-weight: 500;
  line-height: 1.4;
  margin-bottom: 0.875rem;
  color: #ffffff;
}

h5 {
  font-size: 1.125rem;
  font-weight: 500;
  line-height: 1.5;
  margin-bottom: 0.75rem;
  color: #ffffff;
}

h6 {
  font-size: 1rem;
  font-weight: 500;
  line-height: 1.5;
  margin-bottom: 0.75rem;
  color: #ffffff;
}

/* Enhanced body text */
p {
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 1rem;
  color: #ffffff;
}

/* Loading States & Feedback */
.loading-state {
  position: relative;
  overflow: hidden;
  pointer-events: none;
  opacity: 0.7;
}

.loading-state::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* Loading Button State */
.loading-button {
  position: relative;
  color: transparent !important;
  pointer-events: none;
}

.loading-button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid transparent;
  border-top: 2px solid #ffffff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Advanced Loading States */
.skeleton-loading {
  background: linear-gradient(90deg, rgba(45, 90, 45, 0.2) 0%, rgba(76, 175, 80, 0.3) 50%, rgba(45, 90, 45, 0.2) 100%);
  background-size: 200px 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  border-radius: 0.375rem;
  position: relative;
  overflow: hidden;
}

@keyframes skeleton-shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.skeleton-text {
  height: 1rem;
  margin-bottom: 0.5rem;
  border-radius: 0.25rem;
}

.skeleton-text.large {
  height: 1.5rem;
}

.skeleton-text.small {
  height: 0.75rem;
  width: 60%;
}

.skeleton-card {
  padding: 1.5rem;
  border-radius: 0.625rem;
  background: rgba(13, 26, 8, 0.95);
  border: 1px solid rgba(45, 90, 45, 0.2);
}

.skeleton-result {
  height: 8rem;
  border-radius: 0.625rem;
  background: linear-gradient(135deg, rgba(45, 90, 45, 0.1) 0%, rgba(18, 70, 3, 0.05) 100%);
  border: 1px solid rgba(76, 175, 80, 0.1);
  position: relative;
  overflow: hidden;
}

.skeleton-result::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(90deg, transparent, rgba(76, 175, 80, 0.1), transparent);
  animation: skeleton-shimmer 2s ease-in-out infinite;
}

/* Progressive Content Reveal */
.content-reveal {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.content-reveal.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.content-reveal.delay-1 {
  transition-delay: 0.1s;
}

.content-reveal.delay-2 {
  transition-delay: 0.2s;
}

.content-reveal.delay-3 {
  transition-delay: 0.3s;
}

.content-reveal.delay-4 {
  transition-delay: 0.4s;
}

/* Staggered Animation for Multiple Elements */
.stagger-animation > * {
  opacity: 0;
  transform: translateY(15px);
  animation: stagger-fade-in 0.6s ease-out forwards;
}

.stagger-animation > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-animation > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-animation > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-animation > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-animation > *:nth-child(5) { animation-delay: 0.5s; }
.stagger-animation > *:nth-child(6) { animation-delay: 0.6s; }

@keyframes stagger-fade-in {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Loading Overlay */
.loading-overlay {
  position: absolute;
  inset: 0;
  background: rgba(13, 26, 8, 0.9);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;
}

.loading-overlay.show {
  opacity: 1;
  pointer-events: all;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(76, 175, 80, 0.2);
  border-top: 3px solid #4CAF50;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Calculation Progress */
.calculation-progress {
  position: relative;
  padding: 1rem;
  border-radius: 0.5rem;
  background: rgba(45, 90, 45, 0.1);
  border: 1px solid rgba(76, 175, 80, 0.2);
  margin: 1rem 0;
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.4s ease;
}

.calculation-progress.show {
  opacity: 1;
  transform: translateY(0);
}

.progress-bar {
  width: 100%;
  height: 4px;
  background: rgba(45, 90, 45, 0.3);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #4CAF50, #66BB6A);
  border-radius: 2px;
  width: 0%;
  transition: width 0.3s ease;
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 20px;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
  animation: progress-shimmer 1.5s ease-in-out infinite;
}

@keyframes progress-shimmer {
  0% {
    transform: translateX(-20px);
  }
  100% {
    transform: translateX(20px);
  }
}

.progress-text {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.8);
  text-align: center;
}

/* Success/Error Feedback */
.feedback-success {
  border-left: 4px solid #4CAF50 !important;
  background-color: rgba(76, 175, 80, 0.1) !important;
  animation: success-pulse 0.6s ease-out;
}

.feedback-error {
  border-left: 4px solid #f44336 !important;
  background-color: rgba(244, 67, 54, 0.1) !important;
  animation: error-shake 0.6s ease-out;
}

@keyframes success-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* Enhanced Input Validation States */
.input-error {
  border-left: 3px solid #f44336 !important;
  border-color: rgba(244, 67, 54, 0.5) !important;
  background-color: rgba(244, 67, 54, 0.05) !important;
  color: #ffffff;
  animation: error-shake 0.4s ease-out;
}

.input-error:focus {
  box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.3) !important;
  border-color: #f44336 !important;
}

.input-warning {
  border-left: 3px solid #ff9800 !important;
  border-color: rgba(255, 152, 0, 0.5) !important;
  background-color: rgba(255, 152, 0, 0.05) !important;
  color: #ffffff;
}

.input-warning:focus {
  box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.3) !important;
  border-color: #ff9800 !important;
}

.input-success {
  border-left: 3px solid #4CAF50 !important;
  border-color: rgba(76, 175, 80, 0.5) !important;
  background-color: rgba(76, 175, 80, 0.05) !important;
  color: #ffffff;
}

.input-success:focus {
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3) !important;
  border-color: #4CAF50 !important;
}

/* Validation Messages */
.validation-message {
  font-size: 0.875rem;
  margin-top: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.validation-message.show {
  opacity: 1;
  transform: translateY(0);
}

.validation-message.error {
  background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), rgba(244, 67, 54, 0.05));
  border: 1px solid rgba(244, 67, 54, 0.2);
  color: #ff8a80;
}

.validation-message.warning {
  background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 152, 0, 0.05));
  border: 1px solid rgba(255, 152, 0, 0.2);
  color: #ffcc80;
}

.validation-message.success {
  background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
  border: 1px solid rgba(76, 175, 80, 0.2);
  color: #c8e6c9;
}

.validation-message::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: currentColor;
  opacity: 0.7;
}

/* Contextual Validation Icons */
.validation-icon {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
  flex-shrink: 0;
}

.validation-icon.error {
  background: rgba(244, 67, 54, 0.2);
  color: #ff8a80;
}

.validation-icon.warning {
  background: rgba(255, 152, 0, 0.2);
  color: #ffcc80;
}

.validation-icon.success {
  background: rgba(76, 175, 80, 0.2);
  color: #c8e6c9;
}

/* Performance & Accessibility Optimizations */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .loading-state::after,
  .skeleton-loading,
  .loading-spinner,
  .progress-fill::after {
    animation: none !important;
  }

  .content-reveal,
  .stagger-animation > * {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* High Performance Animations */
.performance-optimized {
  will-change: transform, opacity;
  transform: translateZ(0); /* Force hardware acceleration */
  backface-visibility: hidden; /* Prevent flickering */
  perspective: 1000px; /* Enable 3D acceleration context */
}

/* GPU-Accelerated Transforms */
.gpu-accelerated {
  transform: translate3d(0, 0, 0);
  will-change: transform;
}

/* Smooth 60fps Animations */
.smooth-animation {
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: both;
  will-change: transform, opacity;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .action-button,
  .resultDiv,
  .controlPannel input,
  .controlPannel select {
    border-width: 2px !important;
    border-style: solid !important;
  }

  .validation-message {
    border-width: 2px !important;
    font-weight: 600 !important;
  }

  .loading-spinner {
    border-width: 4px !important;
  }
}

/* Color Scheme Preferences */
@media (prefers-color-scheme: light) {
  :root {
    --text-contrast-boost: 0.1;
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --text-contrast-boost: 0;
  }
}

/* Force Layer Creation for Performance */
.layer-creation {
  transform: translateZ(0);
  will-change: transform, opacity;
  contain: layout style paint;
}

/* Optimized Backdrop Filters */
.optimized-blur {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  /* Fallback for browsers without backdrop-filter support */
  background-color: rgba(13, 26, 8, 0.9);
}

@supports not (backdrop-filter: blur()) {
  .optimized-blur {
    background-color: rgba(13, 26, 8, 0.95);
  }
}

/* Print Styles */
@media print {
  .loading-state,
  .loading-overlay,
  .validation-message,
  .action-button::before,
  .action-button::after {
    display: none !important;
  }

  .resultDiv,
  .controlPannel {
    box-shadow: none !important;
    background: white !important;
    color: black !important;
    border: 1px solid black !important;
  }
}

/* Browser-Specific Optimizations */
@supports (-webkit-appearance: none) {
  /* Safari/Webkit optimizations */
  .action-button {
    -webkit-transform: translateZ(0);
    -webkit-font-smoothing: antialiased;
  }
}

@supports (-moz-appearance: none) {
  /* Firefox optimizations */
  .resultDiv {
    scrollbar-width: thin;
    scrollbar-color: rgba(76, 175, 80, 0.5) transparent;
  }
}

/* Touch Device Optimizations */
@media (hover: none) and (pointer: coarse) {
  .action-button {
    min-height: 48px; /* iOS accessibility guidelines */
    padding: 0.875rem 2.5rem;
  }

  .controlPannel input,
  .controlPannel select {
    min-height: 44px; /* Touch-friendly sizing */
    padding: 1rem;
  }

  /* Remove hover effects on touch devices */
  .action-button:hover,
  .resultDiv:hover,
  .controlPannel input:hover {
    transform: none;
    box-shadow: inherit;
  }
}

/* Week 5.1 - Advanced Layout & Visual Hierarchy */

/* Dynamic Grid Systems */
.adaptive-grid {
  display: grid;
  gap: clamp(1rem, 3vw, 2rem);
  grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
  align-items: start;
  transition: all 0.3s ease;
}

.adaptive-grid.dense {
  grid-auto-flow: row dense;
}

.adaptive-grid.masonry {
  grid-template-rows: masonry;
}

/* Visual Flow Enhancement */
.visual-flow {
  position: relative;
}

.visual-flow::before {
  content: '';
  position: absolute;
  top: 0;
  left: -2px;
  width: 2px;
  height: 100%;
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(76, 175, 80, 0.3) 25%,
    rgba(76, 175, 80, 0.6) 50%,
    rgba(76, 175, 80, 0.3) 75%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
}

.visual-flow:hover::before {
  opacity: 1;
}

.visual-flow-arrow {
  position: relative;
  margin: 2rem 0;
  text-align: center;
}

.visual-flow-arrow::after {
  content: '↓';
  font-size: 1.5rem;
  color: rgba(76, 175, 80, 0.6);
  animation: flow-pulse 2s ease-in-out infinite;
}

@keyframes flow-pulse {
  0%, 100% {
    opacity: 0.4;
    transform: translateY(0);
  }
  50% {
    opacity: 1;
    transform: translateY(5px);
  }
}

/* Advanced Typography Scale */
.typography-fluid h1 {
  font-size: clamp(1.75rem, 4vw + 1rem, 3.5rem);
  line-height: 1.1;
  font-weight: 700;
  letter-spacing: -0.02em;
}

.typography-fluid h2 {
  font-size: clamp(1.5rem, 3vw + 0.75rem, 2.5rem);
  line-height: 1.2;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.typography-fluid h3 {
  font-size: clamp(1.25rem, 2vw + 0.5rem, 2rem);
  line-height: 1.3;
  font-weight: 600;
}

.typography-fluid p {
  font-size: clamp(1rem, 1vw + 0.5rem, 1.25rem);
  line-height: 1.6;
  max-width: 65ch;
}

.typography-fluid .lead {
  font-size: clamp(1.125rem, 1.5vw + 0.5rem, 1.5rem);
  line-height: 1.5;
  font-weight: 400;
  opacity: 0.9;
}

/* Content Rhythm & Spacing */
.content-rhythm > * + * {
  margin-top: var(--flow-space, 1em);
}

.content-rhythm.compact {
  --flow-space: 0.75em;
}

.content-rhythm.relaxed {
  --flow-space: 1.5em;
}

.content-rhythm.spacious {
  --flow-space: 2em;
}

/* Advanced Visual Containers */
.container-fluid {
  width: 100%;
  max-width: none;
  margin: 0 auto;
  padding: 0 clamp(1rem, 4vw, 3rem);
}

.container-narrow {
  max-width: 65ch;
  margin: 0 auto;
}

.container-wide {
  max-width: 90rem;
  margin: 0 auto;
}

.container-full-bleed {
  width: 100vw;
  margin-left: calc(50% - 50vw);
}

/* Layered Visual Depth */
.depth-layer-1 {
  position: relative;
  z-index: 1;
  transform: translateZ(10px);
}

.depth-layer-2 {
  position: relative;
  z-index: 2;
  transform: translateZ(20px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.depth-layer-3 {
  position: relative;
  z-index: 3;
  transform: translateZ(30px);
  box-shadow: 0 8px 40px rgba(0, 0, 0, 0.25);
}

/* Content Sectioning */
.section-divider {
  position: relative;
  margin: 4rem 0;
  text-align: center;
}

.section-divider::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(76, 175, 80, 0.3) 20%,
    rgba(76, 175, 80, 0.6) 50%,
    rgba(76, 175, 80, 0.3) 80%,
    transparent 100%
  );
}

.section-divider span {
  background: rgba(13, 26, 8, 0.95);
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.7);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid rgba(76, 175, 80, 0.2);
  border-radius: 1rem;
}

/* Enhanced Visual Hierarchy */
.visual-emphasis {
  position: relative;
  padding: 1rem;
  border-left: 4px solid rgba(76, 175, 80, 0.6);
  background: linear-gradient(135deg,
    rgba(76, 175, 80, 0.05) 0%,
    rgba(76, 175, 80, 0.02) 100%
  );
  border-radius: 0.5rem;
  margin: 1.5rem 0;
}

.visual-emphasis.primary {
  border-left-color: #4CAF50;
  background: linear-gradient(135deg,
    rgba(76, 175, 80, 0.1) 0%,
    rgba(76, 175, 80, 0.05) 100%
  );
}

.visual-emphasis.secondary {
  border-left-color: rgba(255, 255, 255, 0.3);
  background: linear-gradient(135deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.02) 100%
  );
}

.visual-emphasis.accent {
  border-left-color: #66BB6A;
  background: linear-gradient(135deg,
    rgba(102, 187, 106, 0.1) 0%,
    rgba(102, 187, 106, 0.05) 100%
  );
}

/* Week 5.2 - Interactive Data Visualization */

/* Progress Indicators for Health Metrics */
.health-metric {
  position: relative;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(45, 90, 45, 0.1) 0%, rgba(18, 70, 3, 0.05) 100%);
  border: 1px solid rgba(76, 175, 80, 0.2);
  border-radius: 0.75rem;
  margin: 1rem 0;
  overflow: hidden;
}

.health-metric-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.health-metric-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #ffffff;
}

.health-metric-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #4CAF50;
  animation: value-update 0.8s ease-out;
}

@keyframes value-update {
  0% {
    transform: scale(1.1);
    color: #66BB6A;
  }
  100% {
    transform: scale(1);
    color: #4CAF50;
  }
}

/* Animated Progress Bars */
.metric-progress {
  position: relative;
  width: 100%;
  height: 8px;
  background: rgba(45, 90, 45, 0.3);
  border-radius: 4px;
  overflow: hidden;
  margin: 0.5rem 0;
}

.metric-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #4CAF50, #66BB6A, #81C784);
  border-radius: 4px;
  width: 0%;
  transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.metric-progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  right: -10px;
  width: 20px;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: progress-shine 2s ease-in-out infinite;
}

@keyframes progress-shine {
  0% {
    transform: translateX(-20px);
  }
  100% {
    transform: translateX(20px);
  }
}

/* Range Indicators */
.metric-range {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.6);
  margin-top: 0.25rem;
}

.metric-range span.current {
  color: #4CAF50;
  font-weight: 600;
}

/* Comparison Visualizations */
.result-comparison {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 1rem;
  align-items: center;
  padding: 1rem;
  margin: 1rem 0;
  background: rgba(13, 26, 8, 0.5);
  border: 1px solid rgba(76, 175, 80, 0.2);
  border-radius: 0.5rem;
}

.comparison-before,
.comparison-after {
  text-align: center;
  padding: 1rem;
  border-radius: 0.375rem;
  transition: all 0.3s ease;
}

.comparison-before {
  background: rgba(244, 67, 54, 0.1);
  border: 1px solid rgba(244, 67, 54, 0.2);
}

.comparison-after {
  background: rgba(76, 175, 80, 0.1);
  border: 1px solid rgba(76, 175, 80, 0.2);
}

.comparison-arrow {
  font-size: 1.5rem;
  color: #4CAF50;
  animation: arrow-pulse 2s ease-in-out infinite;
}

@keyframes arrow-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

/* Interactive Charts */
.mini-chart {
  position: relative;
  height: 60px;
  background: linear-gradient(180deg, transparent 0%, rgba(76, 175, 80, 0.1) 100%);
  border-radius: 0.25rem;
  margin: 0.5rem 0;
  overflow: hidden;
}

.chart-bar {
  position: absolute;
  bottom: 0;
  width: 8px;
  background: linear-gradient(180deg, #4CAF50, #66BB6A);
  border-radius: 4px 4px 0 0;
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  animation: bar-grow 1s ease-out;
}

@keyframes bar-grow {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--bar-height);
    opacity: 1;
  }
}

.chart-bar:hover {
  background: linear-gradient(180deg, #66BB6A, #81C784);
  transform: scaleY(1.1);
  z-index: 2;
}

/* Visual Status Indicators */
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 0.3s ease;
}

.status-indicator.excellent {
  background: rgba(76, 175, 80, 0.2);
  color: #C8E6C9;
  border: 1px solid rgba(76, 175, 80, 0.4);
}

.status-indicator.good {
  background: rgba(102, 187, 106, 0.2);
  color: #DCEDC8;
  border: 1px solid rgba(102, 187, 106, 0.4);
}

.status-indicator.fair {
  background: rgba(255, 152, 0, 0.2);
  color: #FFE0B2;
  border: 1px solid rgba(255, 152, 0, 0.4);
}

.status-indicator.poor {
  background: rgba(244, 67, 54, 0.2);
  color: #FFCDD2;
  border: 1px solid rgba(244, 67, 54, 0.4);
}

.status-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
  animation: status-pulse 2s ease-in-out infinite;
}

@keyframes status-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

/* Animated Counter */
.animated-counter {
  font-size: 2rem;
  font-weight: 700;
  color: #4CAF50;
  font-variant-numeric: tabular-nums;
  animation: counter-entrance 0.8s ease-out;
}

@keyframes counter-entrance {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animated-counter.updating {
  animation: counter-update 0.4s ease-in-out;
}

@keyframes counter-update {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
    color: #66BB6A;
  }
  100% {
    transform: scale(1);
    color: #4CAF50;
  }
}

/* Interactive Result Cards */
.interactive-result {
  position: relative;
  transition: all 0.3s ease;
  cursor: pointer;
}

.interactive-result:hover {
  transform: translateY(-2px) scale(1.02);
}

.interactive-result::after {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg,
    rgba(76, 175, 80, 0.3),
    rgba(102, 187, 106, 0.2),
    rgba(129, 199, 132, 0.1)
  );
  border-radius: inherit;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.interactive-result:hover::after {
  opacity: 1;
}

/* Week 5.3 - Advanced Responsive & Mobile Enhancements */

/* Container Queries for Component-Based Responsiveness */
@container (max-width: 400px) {
  .controlPannel {
    padding: 1rem;
    gap: 0.75rem;
  }

  .action-button {
    padding: 1rem 2rem;
    font-size: 1rem;
  }
}

@container (min-width: 600px) {
  .controlPannel {
    padding: 2rem;
    gap: 1.5rem;
  }
}

/* Advanced Mobile Adaptations */
@media (max-width: 767px) {
  .adaptive-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .health-metric {
    padding: 1rem;
    margin: 0.75rem 0;
  }

  .health-metric-header {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }

  .result-comparison {
    grid-template-columns: 1fr;
    gap: 0.75rem;
    text-align: center;
  }

  .comparison-arrow {
    transform: rotate(90deg);
    margin: 0.5rem 0;
  }

  .animated-counter {
    font-size: 1.75rem;
  }
}

/* Tablet Optimizations */
@media (min-width: 768px) and (max-width: 1023px) {
  .adaptive-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .health-metric {
    padding: 1.25rem;
  }

  .animated-counter {
    font-size: 1.875rem;
  }
}

/* Touch-Optimized Interactions */
@media (hover: none) and (pointer: coarse) {
  .interactive-result {
    cursor: default;
  }

  .interactive-result:hover {
    transform: none;
  }

  /* Enhance tap targets */
  .action-button {
    min-height: 48px;
    min-width: 120px;
    padding: 0.875rem 2rem;
  }

  .health-metric {
    padding: 1.25rem;
    margin: 1rem 0;
  }

  /* Remove hover-only effects */
  .visual-flow:hover::before,
  .columnDiv:hover.enhanced-flow::before {
    opacity: 0;
  }

  /* Add touch feedback */
  .action-button:active {
    background-color: #66BB6A;
    transform: scale(0.98);
  }

  .interactive-result:active {
    transform: scale(0.98);
  }
}

/* Landscape Mobile Optimizations */
@media screen and (max-height: 500px) and (orientation: landscape) {
  .center-content {
    top: 5vh;
    padding: 1rem 2rem;
  }

  .controlPannel {
    padding: 1rem;
  }

  .health-metric {
    padding: 0.75rem;
    margin: 0.5rem 0;
  }

  .resultDiv {
    padding: 1.5rem 1rem;
    margin-top: 1rem;
  }

  .animated-counter {
    font-size: 1.5rem;
  }
}

/* High-DPI Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .action-button,
  .health-metric,
  .resultDiv {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  

  border: 0.5px solid rgba(76, 175, 80, 0.3);
  }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
  :root {
    --background-overlay: rgba(0, 0, 0, 0.8);
    --text-contrast: 1;
  }
}

@media (prefers-color-scheme: light) {
  :root {
    --background-overlay: rgba(255, 255, 255, 0.1);
    --text-contrast: 0.9;
  }

  .health-metric,
  .resultDiv {
    background-blend-mode: multiply;
  }
}

/* Foldable Device Support */
@media (spanning: single-fold-vertical) {
  .adaptive-grid {
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }

  .controlPannel {
    max-width: 45vw;
  }
}

@media (spanning: single-fold-horizontal) {
  .center-content {
    flex-direction: row;
    align-items: flex-start;
    gap: 2rem;
  }
}

/* Ultra-wide Screen Adaptations */
@media (min-width: 1920px) {
  .adaptive-grid {
    max-width: 1400px;
    margin: 0 auto;
    grid-template-columns: repeat(4, 1fr);
  }

  .health-metric {
    padding: 2rem;
  }

  .animated-counter {
    font-size: 2.5rem;
  }
}

/* Print Media Optimizations */
@media print {
  .health-metric,
  .resultDiv {
    break-inside: avoid;
    background: white !important;
    color: black !important;
    border: 1px solid #ccc !important;
  }

  .animated-counter {
    color: black !important;
  }

  .action-button {
    display: none !important;
  }

  .interactive-result::after {
    display: none !important;
  }
}

/* Week 5.4 - Accessibility & Inclusive Design */

/* Enhanced Screen Reader Support */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: inherit;
}

/* ARIA Live Regions */
.live-region {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Enhanced Focus Management */
.focus-trap {
  position: relative;
}

.focus-trap::before,
.focus-trap::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
}

/* Skip Links */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #4CAF50;
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
  transition: top 0.2s;
}

.skip-link:focus {
  top: 6px;
}

/* Semantic Color Coding */
.semantic-success {
  --semantic-color: #4CAF50;
  --semantic-bg: rgba(76, 175, 80, 0.1);
}

.semantic-warning {
  --semantic-color: #ff9800;
  --semantic-bg: rgba(255, 152, 0, 0.1);
}

.semantic-error {
  --semantic-color: #f44336;
  --semantic-bg: rgba(244, 67, 54, 0.1);
}

.semantic-info {
  --semantic-color: #2196F3;
  --semantic-bg: rgba(33, 150, 243, 0.1);
}

/* High Contrast Patterns */
@media (prefers-contrast: high) {
  .health-metric,
  .resultDiv,
  .action-button {
    border-width: 3px !important;
    font-weight: 600 !important;
  }

  .status-indicator::before {
    width: 12px !important;
    height: 12px !important;
    border: 2px solid currentColor !important;
    background: transparent !important;
  }

  .metric-progress-fill {
    background: currentColor !important;
    border: 1px solid white !important;
  }
}

/* Week 5.5 - Performance & Code Quality */

/* CSS Containment for Performance */
.calculator-section {
  contain: layout style paint;
}

.result-container {
  contain: layout paint;
}

/* Optimized Animations */
.perf-animation {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Critical CSS Splitting Markers */
/* Above the fold - Critical CSS */
.critical-path {
  /* Essential styles loaded first */
  font-display: swap;
  content-visibility: auto;
}

/* Below the fold - Non-critical CSS */
.non-critical {
  /* Deferred styles */
  content-visibility: auto;
  contain-intrinsic-size: 0 500px;
}

/* Memory Optimization */
.large-content {
  content-visibility: auto;
  contain-intrinsic-size: 1000px;
}

/* Paint Optimization */
.optimized-layer {
  transform: translateZ(0);
  will-change: auto;
  isolation: isolate;
}

/* Font Loading Optimization */
@font-face {
  font-family: 'Inter';
  font-display: swap;
  src: local('Inter');
}

/* Resource Hints for Performance */
.preload-hint {
  /* For critical resources */
  font-display: swap;
}

/* Intersection Observer Optimizations */
.lazy-load {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.lazy-load.loaded {
  opacity: 1;
  transform: translateY(0);
}

/* CSS Grid Performance */
.optimized-grid {
  display: grid;
  grid-template-rows: masonry;
  contain: layout;
}

/* Scroll Performance */
.smooth-scroll {
  scroll-behavior: smooth;
  scroll-padding-top: 2rem;
}

/* Color Space Optimization */
@media (color-gamut: p3) {
  .wide-color {
    color: color(display-p3 0.298 0.686 0.314);
  }
}

/* Modern CSS Features */
@supports (backdrop-filter: blur()) {
  .modern-blur {
    backdrop-filter: blur(10px);
  }
}

@supports not (backdrop-filter: blur()) {
  .modern-blur {
    background-color: rgba(13, 26, 8, 0.95);
  }
}

/* CSS Nesting Compatibility */
@supports (selector(:is(a, b))) {
  .modern-selector {
    /* Use modern selectors where supported */
  }
}

/* Container Query Support */
@supports (container-type: inline-size) {
  .container-aware {
    container-type: inline-size;
  }
}

/* Subgrid Support */
@supports (grid-template-rows: subgrid) {
  .subgrid-layout {
    display: grid;
    grid-template-rows: subgrid;
  }
}

@media (min-width: 2200px) {
  html {
      font-size: 20px;
  }
}

